<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>簡単SPAサンプル</title>
  <style>
    nav a {
      margin-right: 10px;
    }
    .content {
      margin-top: 20px;
      font-size: 1.2em;
    }
  </style>
  <script>
    // 本番環境用のスクリプト
    (function (PID) {
      var script = document.createElement("script");
      script.src =
        "https://tracking.sitest.jp/tag?p=" +
        PID +
        "&u=" +
        encodeURIComponent(
          location.origin + location.pathname + location.search
        );
      script.async = true;
      document.head.appendChild(script);
    })("p68075fdcd780f");
    // ローカル環境用のスクリプト
    (function (PID) {
      var script = document.createElement("script");
      script.src =
        "http://localhost:8080/tag?p=" +
        PID +
        "&u=" +
        encodeURIComponent(
          location.origin + location.pathname + location.search
        );
      script.async = true;
      document.head.appendChild(script);
    })("35");
  </script>
</head>
<body>
  <nav>
    <a href="#home">ホーム</a>
    <a href="#about">アバウト</a>
    <a href="#contact">コンタクト</a><br><br>
    <a href="sample.html">戻る</a>
  </nav>

  <div class="content" id="content">ここに内容が表示されます。</div>

  <script>
    function renderContent() {
      const content = document.getElementById('content');
      const hash = location.hash || '#home';

      switch (hash) {
        case '#home':
          window.sitest.refresh("p68075fdcd780f",location.href);
          window.sitest.refresh("35",location.href);
          content.textContent = 'ようこそ、ホームページへ！';
          break;
        case '#about':
          window.sitest.refresh("p68075fdcd780f",location.href);
          window.sitest.refresh("35",location.href);
          content.textContent = '私たちはシンプルなSPAを作っています。';
          break;
        case '#contact':
          window.sitest.refresh("p68075fdcd780f",location.href);
          window.sitest.refresh("35",location.href);
          content.textContent = 'お問い合わせは example@example.com まで。';
          break;
        default:
          content.textContent = 'ページが見つかりません。';
      }
    }

    // 初回表示
    renderContent();

    // ハッシュが変わるたびに呼び出す
    window.addEventListener('hashchange', renderContent);
  </script>
</body>
</html>
